<!doctype html>
<html lang="en" dir="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTMX</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”´</text></svg>"
    />
    <script src="/public/js/htmx.min.js"></script>
    <link rel="stylesheet" href="/public/css/pico.min.css" />
  </head>

  <body>
    <header
      class="container"
      style="display: flex; justify-content: space-between"
    >
      <h1 style="margin-right: auto">
        <strong><a href="/hx">Pokemon</a></strong>
      </h1>
      <nav>
        <ul>
          <li><a href="/web">web version</a></li>
          <li><a href="/" class="secondary">home</a></li>
        </ul>
      </nav>
      <hr />
    </header>
    <main>
      <div class="container-fluid">
        <div
          class="grid"
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            align-content: center;
          "
        >
          <input
            style="margin: 0"
            type="search"
            placeholder="search pokemon..."
            hx-get="/hx/pokemon"
            hx-target="#pokemon-results"
            hx-swap="outerHTML"
            name="q"
            hx-vals
          />
          <button
            style="min-width: auto"
            id="show-dialog-new-pokemon"
            class="outline"
            hx-get="/hx/pokemon/new"
            hx-target="#new-pokemon-dialog"
            hx-trigger="intersect, click"
          >
            Create&nbsp;Pokemon
          </button>
        </div>
        <dialog id="new-pokemon-dialog">
          <article></article>
          <div></div>
        </dialog>
        <script>
          const newPokemonDialog = document.querySelector(
            "#new-pokemon-dialog",
          );
          const showNewPokemonButton = document.querySelector(
            "#show-dialog-new-pokemon",
          );
          // const closeNewDialogButton = document.querySelector(
          //   "#close-dialog-new-pokemon",
          // );
          showNewPokemonButton.addEventListener("click", () => {
            newPokemonDialog.showModal();
          });
          // closeNewDialogButton.addEventListener("click", () => {
          //   newPokemonDialog.close();
          // });
        </script>
      </div>
      <article class="pokelist container-fluid">
        <div
          hx-get="/hx/pokemon?limit=25&paging=infinite"
          hx-swap="outerHTML"
          hx-trigger="load"
        ></div>
      </article>
    </main>
  </body>
</html>
