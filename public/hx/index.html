<!doctype html>
<html lang="en" dir="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>HTMX</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”´</text></svg>"
    />
    <script src="/public/js/htmx.min.js"></script>
  </head>

  <body>
    <header>
      <h1>Pokemon (htmx)</h1>
    </header>
    <main>
      <section class="pokelist">
        <h2>Search</h2>
        <input
          type="search"
          placeholder="search pokemon..."
          hx-get="/hx/pokemon"
          hx-target="#pokemon-results"
          hx-swap="outerHTML"
          name="q"
          hx-vals
        />
        <button id="show-dialog-new-pokemon">New Pokemon</button>
        <dialog id="new-pokemon-dialog">
          <div hx-get="/hx/pokemon/new" hx-trigger="intersect"></div>
          <button id="close-dialog-new-pokemon">close</button>
        </dialog>
        <script>
          const newPokemonDialog = document.querySelector(
            "#new-pokemon-dialog",
          );
          const showNewPokemonButton = document.querySelector(
            "#show-dialog-new-pokemon",
          );
          const closeNewDialogButton = document.querySelector(
            "#close-dialog-new-pokemon",
          );
          showNewPokemonButton.addEventListener("click", () => {
            newPokemonDialog.showModal();
          });
          closeNewDialogButton.addEventListener("click", () => {
            newPokemonDialog.close();
          });
        </script>
        <div
          hx-get="/hx/pokemon?limit=25&paging=infinite"
          hx-swap="outerHTML"
          hx-trigger="load"
        ></div>
      </section>
    </main>
  </body>
</html>
